<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.bnk.bnk_project.mapper.admin.InfoPostMapper">

    <!-- 등록 -->
    <insert id="insertInfoPost" parameterType="kr.co.bnk.bnk_project.dto.admin.InfoPostDTO">
    <selectKey keyProperty="postId" resultType="int" order="BEFORE">
        SELECT info_post_seq.NEXTVAL FROM dual
    </selectKey>

        INSERT INTO info_post(
          post_id,
          post_type,
          title,
          disclosure_type,
          created_by,
          created_at,
          content,
          status
        )VALUES (
         #{postId},
         'DISCLOSURE',
         #{title},
         #{disclosureType},
         #{createdBy},
         SYSDATE,
         #{content},
         #{status}
        )
    </insert>

    <!-- 목록 -->
    <select id="selectAllInfoPost" resultType="kr.co.bnk.bnk_project.dto.admin.InfoPostDTO">
        SELECT
            post_id         AS postId,
            title,
            disclosure_type AS disclosureType,
            created_by      AS createdBy,
            created_at      AS createdAt,
            content,            <!-- 상세 모달에서 필요 -->
            status
        FROM
            info_post
        WHERE
            post_type = 'DISCLOSURE'
        ORDER BY post_id DESC
    </select>

<!--    <select id="selectInfoPostById" parameterType="int" resultType="kr.co.bnk.bnk_project.dto.admin.InfoPostDTO">-->
<!--        SELECT-->
<!--            post_id         AS postId,-->
<!--            title,-->
<!--            disclosure_type AS disclosureType,-->
<!--            created_by      AS createdBy,-->
<!--            created_at      AS createdAt,-->
<!--            content,-->
<!--            status-->
<!--        FROM-->
<!--            info_post-->
<!--        WHERE-->
<!--            post_id = #{postId}-->
<!--    </select>-->





</mapper>
