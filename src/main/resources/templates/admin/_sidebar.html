<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- 사이드바 Fragment -->
    <aside class="sidebar" th:fragment="sidebar(activeMenu)">
        <div class="sidebar-header">
            <div class="header-content">
                <a th:href="@{/admin/main}">
                    <img th:src="@{/images/main/h1_busanbank_new.png}" alt="BNK 부산은행" class="sidebar-logo">
                </a>
                <span class="admin-label">관리자</span>
            </div>
        </div>
        <nav class="sidebar-menu">
            <ul>
                <li class="menu-item has-submenu" 
                    th:classappend="${activeMenu != null && (activeMenu == 'product-list' || activeMenu == 'product-register' || activeMenu == 'product-pending' || activeMenu == 'product-edit' || activeMenu == 'product-documents') ? 'open' : ''}">
                    <a href="#" onclick="toggleSubmenu(this.parentElement); return false;">펀드 관리</a>
                    <ul class="submenu">
                        <li><a th:href="@{/admin/product}" 
                               th:classappend="${activeMenu == 'product-list' ? 'active' : ''}">펀드 목록</a></li>
                        <li><a th:href="@{/admin/product/register}" 
                               th:classappend="${activeMenu == 'product-register' ? 'active' : ''}">펀드 등록</a></li>
                        <li><a th:href="@{/admin/product/pending}" 
                               th:classappend="${activeMenu == 'product-pending' ? 'active' : ''}">펀드 등록 대기</a></li>
                        <li><a th:href="@{/admin/product/edit}" 
                               th:classappend="${activeMenu == 'product-edit' ? 'active' : ''}">펀드 수정</a></li>
                        <li><a th:href="@{/admin/product/documents}" 
                               th:classappend="${activeMenu == 'product-documents' ? 'active' : ''}">펀드 문서 관리</a></li>
                    </ul>
                </li>
                <li class="menu-item has-submenu"
                    th:classappend="${activeMenu != null && (activeMenu == 'info-disclosures' || activeMenu == 'info-ad-hoc' || activeMenu == 'info-fund-info' || activeMenu == 'info-guide' || activeMenu == 'info-fund-market') ? 'open' : ''}">
                    <a href="#" onclick="toggleSubmenu(this.parentElement); return false;">정보/공시</a>
                    <ul class="submenu">
                        <li><a th:href="@{/admin/info/disclosures}"
                               th:classappend="${activeMenu == 'info-disclosures' ? 'active' : ''}">공시자료</a></li>
                        <li><a th:href="@{/admin/info/ad-hoc}"
                               th:classappend="${activeMenu == 'info-ad-hoc' ? 'active' : ''}">수시공시</a></li>
                        <li><a th:href="@{/admin/info/fund-info}"
                               th:classappend="${activeMenu == 'info-fund-info' ? 'active' : ''}">펀드정보</a></li>
                        <li><a th:href="@{/admin/info/guide}"
                               th:classappend="${activeMenu == 'info-guide' ? 'active' : ''}">펀드가이드</a></li>
                        <li><a th:href="@{/admin/info/fund-market}"
                               th:classappend="${activeMenu == 'info-fund-market' ? 'active' : ''}">펀드시황관리</a></li>
                    </ul>
                </li>
                <li class="menu-item has-submenu" 
                    th:classappend="${activeMenu != null && (activeMenu == 'faq' || activeMenu == 'qna') ? 'open' : ''}">
                    <a href="#" onclick="toggleSubmenu(this.parentElement); return false;">고객지원</a>
                    <ul class="submenu">
                        <li><a th:href="@{/admin/cs/faq}" 
                               th:classappend="${activeMenu == 'faq' ? 'active' : ''}">FAQ 관리</a></li>
                        <li><a th:href="@{/admin/cs/qna}" 
                               th:classappend="${activeMenu == 'qna' ? 'active' : ''}">QnA관리</a></li>
                    </ul>
                </li>
                <li class="menu-item has-submenu"
                    th:classappend="${activeMenu != null && (activeMenu == 'settings-search-keyword' || activeMenu == 'settings-category' || activeMenu == 'settings-terms') ? 'open' : ''}">
                    <a href="#" onclick="toggleSubmenu(this.parentElement); return false;">환경설정</a>
                    <ul class="submenu">
                        <li><a th:href="@{/admin/settings/search-keyword}"
                               th:classappend="${activeMenu == 'settings-search-keyword' ? 'active' : ''}">검색어관리</a></li>
                        <li><a th:href="@{/admin/settings/category}"
                               th:classappend="${activeMenu == 'settings-category' ? 'active' : ''}">카테고리 관리</a></li>
                        <li><a th:href="@{/admin/settings/terms}"
                               th:classappend="${activeMenu == 'settings-terms' ? 'active' : ''}">약관 관리</a></li>
                    </ul>
                </li>
                <li class="menu-item has-submenu"
                    th:classappend="${activeMenu != null && (activeMenu == 'member' || activeMenu == 'permission') ? 'open' : ''}">
                    <a href="#" onclick="toggleSubmenu(this.parentElement); return false;">회원 관리</a>
                    <ul class="submenu">
                        <li><a th:href="@{/admin/member/list}"
                               th:classappend="${activeMenu == 'member' ? 'active' : ''}">회원 관리</a></li>
                        <li><a th:href="@{/admin/member/permission}"
                               th:classappend="${activeMenu == 'permission' ? 'active' : ''}">권한 관리</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a th:href="@{/admin/approval}" 
                       th:classappend="${activeMenu == 'approval' ? 'active' : ''}">결재(승인) 관리</a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- 사이드바 스크립트 Fragment -->
    <script th:fragment="sidebar-script" th:inline="javascript">
        /*<![CDATA[*/
        function toggleSubmenu(element) {
            element.classList.toggle('open');
        }
        /*]]>*/
    </script>
</body>
</html>


